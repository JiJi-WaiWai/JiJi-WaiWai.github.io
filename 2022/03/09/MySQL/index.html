<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css" integrity="sha256-no0c5ccDODBwp+9hSmV5VvPpKwHCpbVzXHexIkupM6U=" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js" integrity="sha256-a5YRB27CcBwBFcT5EF/f3E4vzIqyHrSR878nseNYw64=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"jiji-waiwai.github.io","root":"/","images":"/images","scheme":"Gemini","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"livere","storage":true,"lazyload":false,"nav":null,"activeClass":"livere"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="这是一篇关于MySQL的个人笔记。 包含MySql的基本语法，MySql表单、约束和事物，MySql多表、外键和数据库设计，Mysql索引、存储过程和触发器。">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL">
<meta property="og:url" content="https://jiji-waiwai.github.io/2022/03/09/MySQL/index.html">
<meta property="og:site_name" content="De&#39;s Blog">
<meta property="og:description" content="这是一篇关于MySQL的个人笔记。 包含MySql的基本语法，MySql表单、约束和事物，MySql多表、外键和数据库设计，Mysql索引、存储过程和触发器。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/09/bR54AO.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/09/bRIgPg.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMMqC8.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMYWnS.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMt1u8.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMtTVe.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMd1Rs.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMBRoT.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMBXFO.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMDAk8.png">
<meta property="og:image" content="https://s1.ax1x.com/2022/03/22/qMD79g.png">
<meta property="article:published_time" content="2022-03-09T06:52:59.000Z">
<meta property="article:modified_time" content="2022-03-24T05:25:10.806Z">
<meta property="article:author" content="唧唧歪歪">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s1.ax1x.com/2022/03/09/bR54AO.png">


<link rel="canonical" href="https://jiji-waiwai.github.io/2022/03/09/MySQL/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://jiji-waiwai.github.io/2022/03/09/MySQL/","path":"2022/03/09/MySQL/","title":"MySQL"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>MySQL | De's Blog</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>
  <a target="_blank" rel="noopener" href="https://GitHub.com/JiJi-WaiWai" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#FD6C6C; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">De's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#MySql%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">MySql基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#MySQL%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="nav-number">1.1.</span> <span class="nav-text">MySQL目录结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F"><span class="nav-number">1.2.</span> <span class="nav-text">数据库管理系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8"><span class="nav-number">1.3.</span> <span class="nav-text">数据库表</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SQL"><span class="nav-number">2.</span> <span class="nav-text">SQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DDL%E6%93%8D%E4%BD%9C%E5%BA%93"><span class="nav-number">2.1.</span> <span class="nav-text">DDL操作库</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DDL%E6%93%8D%E4%BD%9C%E8%A1%A8"><span class="nav-number">2.2.</span> <span class="nav-text">DDL操作表</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DML"><span class="nav-number">2.3.</span> <span class="nav-text">DML</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DQL"><span class="nav-number">2.4.</span> <span class="nav-text">DQL</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95"><span class="nav-number">2.5.</span> <span class="nav-text">表单</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F"><span class="nav-number">2.5.1.</span> <span class="nav-text">排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="nav-number">2.5.2.</span> <span class="nav-text">聚合函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84"><span class="nav-number">2.5.3.</span> <span class="nav-text">分组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#limit"><span class="nav-number">2.5.4.</span> <span class="nav-text">limit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#sql%E7%BA%A6%E6%9D%9F"><span class="nav-number">2.6.</span> <span class="nav-text">sql约束</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BB%E9%94%AE"><span class="nav-number">2.6.1.</span> <span class="nav-text">主键</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%94%AF%E4%B8%80%E9%94%AE"><span class="nav-number">2.6.2.</span> <span class="nav-text">唯一键</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1"><span class="nav-number">3.</span> <span class="nav-text">事务</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7"><span class="nav-number">3.1.</span> <span class="nav-text">事务的四大特性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="nav-number">3.2.</span> <span class="nav-text">事务的隔离级别</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="nav-number">3.3.</span> <span class="nav-text">隔离级别相关命令</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8"><span class="nav-number">4.</span> <span class="nav-text">多表</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="nav-number">4.1.</span> <span class="nav-text">外键约束</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB%E8%AE%BE%E8%AE%A1"><span class="nav-number">4.2.</span> <span class="nav-text">多表关系设计</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.3.</span> <span class="nav-text">多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF"><span class="nav-number">4.3.1.</span> <span class="nav-text">笛卡尔乘积</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.3.2.</span> <span class="nav-text">内连接查询</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.3.3.</span> <span class="nav-text">外连接查询</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="nav-number">4.4.</span> <span class="nav-text">子查询</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%8C%83%E5%BC%8F"><span class="nav-number">5.</span> <span class="nav-text">数据库范式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95"><span class="nav-number">6.</span> <span class="nav-text">索引</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95"><span class="nav-number">6.1.</span> <span class="nav-text">主键索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95"><span class="nav-number">6.2.</span> <span class="nav-text">唯一索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95"><span class="nav-number">6.3.</span> <span class="nav-text">普通索引</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%B4%A2%E5%BC%95%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95"><span class="nav-number">6.4.</span> <span class="nav-text">索引性能测试</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE"><span class="nav-number">7.</span> <span class="nav-text">视图</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="nav-number">8.</span> <span class="nav-text">存储过程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="nav-number">9.</span> <span class="nav-text">触发器</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DCL"><span class="nav-number">10.</span> <span class="nav-text">DCL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%A8%E6%88%B7"><span class="nav-number">10.1.</span> <span class="nav-text">用户</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%87%E4%BB%BD%E4%B8%8E%E8%BF%98%E5%8E%9F"><span class="nav-number">10.2.</span> <span class="nav-text">备份与还原</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="唧唧歪歪"
      src="/images/1.jpg">
  <p class="site-author-name" itemprop="name">唧唧歪歪</p>
  <div class="site-description" itemprop="description">踏上新征程----go！！！</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/JiJi-WaiWai" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;JiJi-WaiWai" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1753645532@qq.com" title="E-Mail → mailto:1753645532@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://tool.gljlw.com/qq/?qq=1753645532" title="http:&#x2F;&#x2F;tool.gljlw.com&#x2F;qq&#x2F;?qq&#x3D;1753645532" rel="noopener" target="_blank">加qq</a>
        </li>
    </ul>
  </div>

          </div>
        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jiji-waiwai.github.io/2022/03/09/MySQL/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/1.jpg">
      <meta itemprop="name" content="唧唧歪歪">
      <meta itemprop="description" content="踏上新征程----go！！！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="De's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          MySQL
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2022-03-09 14:52:59" itemprop="dateCreated datePublished" datetime="2022-03-09T14:52:59+08:00">2022-03-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2022-03-24 13:25:10" itemprop="dateModified" datetime="2022-03-24T13:25:10+08:00">2022-03-24</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>这是一篇关于MySQL的个人笔记。</p>
<p>包含MySql的基本语法，MySql表单、约束和事物，MySql多表、外键和数据库设计，Mysql索引、存储过程和触发器。</p>
<span id="more"></span>

<h1 id="MySql基础"><a href="#MySql基础" class="headerlink" title="MySql基础"></a>MySql基础</h1><p>什么是数据库？</p>
<ul>
<li>数据库(DataBase) 就是存储和管理数据的仓库</li>
<li>其本质是一个文件系统, 还是以文件的方式,将数据保存在电脑上</li>
</ul>
<p>为什么用数据库？</p>
<table>
<thead>
<tr>
<th><strong>存储方式</strong></th>
<th><strong>优点</strong></th>
<th><strong>缺点</strong></th>
</tr>
</thead>
<tbody><tr>
<td>内存</td>
<td>速度快</td>
<td>不能够永久保存,数据是临时状态的</td>
</tr>
<tr>
<td>文件</td>
<td>数据是可以永久保存的</td>
<td>使用IO流操作文件, 不方便</td>
</tr>
<tr>
<td>数据库</td>
<td>1.数据可以永久保存  2.方便存储和管理数据   3.使用统一的方式操作数据库  (SQL)</td>
<td>占用资源,有些数据库需要付费(比如Oracle数据  库)</td>
</tr>
</tbody></table>
<p>通过上面的比较,我们可以看出,使用数据库存储数据, 用户可以非常方便对数据库中的数据进行增加, 删除, 修改及查询操作。</p>
<p>常见数据库</p>
<table>
<thead>
<tr>
<th><strong>数据库名</strong></th>
<th><strong>介绍</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>MySql数据</strong>  <strong>库</strong></td>
<td>开源免费的数据库  因为免费开源、运作简单的特点，常作为中小型的项目的数据库首选。  MySQL1996年开始运作，目前已经被Oracle公司收购了.  MySQL6.x开始收费</td>
</tr>
<tr>
<td>Oracle数据  库</td>
<td>收费的大型数据库，Oracle公司的核心产品。  安全性高</td>
</tr>
<tr>
<td>DB2</td>
<td>IBM公司的数据库产品,收费的超大型数据库。  常在银行系统中使用</td>
</tr>
<tr>
<td>SQL Server</td>
<td>MicroSoft 微软公司收费的中型的数据库。  C#、.net等语言常使用。   但该数据库只能运行在windows机器上，扩展性、稳定性、安全性、性能都表现平平。</td>
</tr>
</tbody></table>
<p>为什么选择MySQL ?</p>
<ul>
<li>功能强大,足以应付web应用开发</li>
<li>开源, 免费</li>
</ul>
<p><strong>Mysql服务启动</strong>：</p>
<p>1，打开任务管理器，在“服务”选项卡下将“MySQL”启动。</p>
<p>2，win + R 快捷键，输入services.msc后进入，将“MySQL”启动。</p>
<p>3，以管理员身份打开DOS命令行，输入“net start mysql57”启动，输入“net stop mysql57”关闭。</p>
<p><strong>DOS命令行登入MySQL</strong>（前提是添加了环境变量）</p>
<table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>mysql -u 用户名 -p 密码</td>
<td>使用指定用户名和密码登录当前计算机中的MySQL数据库</td>
</tr>
<tr>
<td>mysql -h 主机IP -u 用户名  -p 密码</td>
<td>-h 指定IP  方式,进行 登录</td>
</tr>
<tr>
<td>exit 或  quit</td>
<td>退出</td>
</tr>
</tbody></table>
<h2 id="MySQL目录结构"><a href="#MySQL目录结构" class="headerlink" title="MySQL目录结构"></a>MySQL目录结构</h2><p><strong>MySQL安装目录</strong></p>
<p>MySql的默认安装目录在 C:\Program Files\MySQL\MySQL Server 5.7</p>
<table>
<thead>
<tr>
<th><strong>目录</strong></th>
<th><strong>目录内容</strong></th>
</tr>
</thead>
<tbody><tr>
<td>bin</td>
<td>放置一些可执行文件</td>
</tr>
<tr>
<td>docs</td>
<td>文档</td>
</tr>
<tr>
<td>include</td>
<td>包含(头)文件</td>
</tr>
<tr>
<td>lib</td>
<td>依赖库</td>
</tr>
<tr>
<td>share</td>
<td>用于存放字符集、语言等信息。</td>
</tr>
</tbody></table>
<h2 id="数据库管理系统"><a href="#数据库管理系统" class="headerlink" title="数据库管理系统"></a>数据库管理系统</h2><p>数据库管理系统（DataBase Management System，DBMS）：指一种操作和管理维护数据库的大型软件。</p>
<p>MySQL就是一个 数据库管理系统软件, 安装了Mysql的电脑,我们叫它数据库服务器.</p>
<p><strong>作用</strong></p>
<p> 用于建立、使用和维护数据库，对数据库进行统一的管理。</p>
<p><strong>数据库管理系统、数据库 和表之间的关系</strong></p>
<p> MySQL中管理着很多数据库，在实际开发环境中 一个数据库一般对应了一个的应用，数据库当中保存着多张表，每一张表对应着不同的业务，表中保存着对应业务的数据。</p>
<p><strong>几个概念</strong> </p>
<ul>
<li>数据库：文件夹</li>
<li>表：文件</li>
<li>数据：文件中的记录</li>
</ul>
<h2 id="数据库表"><a href="#数据库表" class="headerlink" title="数据库表"></a>数据库表</h2><p>数据库中以表为组织单位存储数据</p>
<p>表类似我们Java中的类,每个字段都有对应的数据类型，那么我们使用熟悉的Java程序来与关系型数据对比,就会发现以下关系: </p>
<ul>
<li>类————-&gt;表</li>
<li>类中变量—–&gt;表中字段</li>
<li>对象———-&gt;数据记录</li>
</ul>
<h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h1><p> 结构化查询语言(Structured Query Language)简称SQL，是一种特殊目的的编程语言，是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统。</p>
<p><strong>作用</strong></p>
<ul>
<li>是所有关系型数据库的统一查询规范，不同的关系型数据库都支持SQL 所有的关系型数据库都可以使用SQL</li>
<li>不同数据库之间的SQL 有一些区别  方言</li>
</ul>
<p><strong>SQL通用语法</strong></p>
<ul>
<li><p>SQL语句可以单行 或者 多行书写，以分号 结尾 ;   （Sqlyog中可以不用写分号） </p>
</li>
<li><p>可以使用空格和缩进来增加语句的可读性。</p>
</li>
<li><p>MySql中使用SQL不区分大小写，一般关键字大写，数据库名 表名列名 小写。</p>
</li>
<li><p>注释方式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 空格	单行注释</span></span><br><span class="line"><span class="comment">/* */</span>	 多行注释</span><br><span class="line">#	     MySql特有的单行注释</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>SQL的分类</strong></p>
<table>
<thead>
<tr>
<th><strong>分类</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>数据定义语言</td>
<td>简称DDL(Data Definition Language)，用来定义数据库对象：数据库，表，列等。</td>
</tr>
<tr>
<td>数据操作语言</td>
<td>简称DML(Data  Manipulation Language)，用来对数据库中表的记录进行更新。</td>
</tr>
<tr>
<td>数据查询语言</td>
<td>简称DQL(Data  Query Language)，用来查询数据库中表的记录。</td>
</tr>
<tr>
<td>数据控制语言</td>
<td>简称DCL(Date  Control Language)，用来定义数据库的访问权限和安全级别，及创建用户。(了解)</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bR54AO"><img src="https://s1.ax1x.com/2022/03/09/bR54AO.png" alt="bR54AO.png"></a></p>
<h2 id="DDL操作库"><a href="#DDL操作库" class="headerlink" title="DDL操作库"></a>DDL操作库</h2><p><strong>增，创建库</strong></p>
<table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>create database 数据库名；</td>
<td>创建指定名称的数据库。</td>
</tr>
<tr>
<td>create database 数据库名 character  set  字符集；</td>
<td>创建指定名称的数据库，并且指定字符集（一般都指定utf8）</td>
</tr>
</tbody></table>
<p><strong>删，删除库</strong></p>
<table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>drop database 数据库名</td>
<td>从MySql中永久的删除某个数据库</td>
</tr>
</tbody></table>
<p><strong>改，修改库</strong></p>
<table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>alter database 数据库名 character  set 字符集；</td>
<td>数据库的字符集修改操作</td>
</tr>
</tbody></table>
<p><strong>查，查询库</strong></p>
<table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>use 数据库</td>
<td>切换数据库</td>
</tr>
<tr>
<td>select database();</td>
<td>查看当前正在使用的数据库</td>
</tr>
<tr>
<td>show databases;</td>
<td>查看Mysql中 都有哪些数据库</td>
</tr>
<tr>
<td>show create database 数据库名；</td>
<td>查看一个数据库的定义信息</td>
</tr>
</tbody></table>
<h2 id="DDL操作表"><a href="#DDL操作表" class="headerlink" title="DDL操作表"></a>DDL操作表</h2><p><strong>MySQL的数据类型</strong></p>
<p>常见类型</p>
<table>
<thead>
<tr>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>整型</td>
</tr>
<tr>
<td>double</td>
<td>浮点型</td>
</tr>
<tr>
<td>char</td>
<td>字符串型（固定长度）</td>
</tr>
<tr>
<td>varchar</td>
<td>字符串型（可变长度，根据实际内容）</td>
</tr>
<tr>
<td>date</td>
<td>日期类型，给是为  yyyy-MM-dd ,只有年月日，没有时分秒</td>
</tr>
</tbody></table>
<p>其他类型</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/bRIgPg"><img src="https://s1.ax1x.com/2022/03/09/bRIgPg.png" alt="bRIgPg.png"></a></p>
<p>注意：MySQL中的 char类型与 varchar类型，都对应了 Java中的字符串类型，区别在于：</p>
<ul>
<li>char类型是固定长度的： 根据定义的字符串长度分配足够的空间。</li>
<li>varchar类型是可变长度的： 只使用字符串长度所需的空间</li>
</ul>
<p>适用场景：</p>
<ul>
<li>char类型适合存储 固定长度的字符串，比如 密码 ，性别一类 </li>
<li>varchar类型适合存储 在一定范围内，有长度变化的字符串 ，如姓名</li>
</ul>
<p><strong>增，创建表</strong></p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE 表名(</span><br><span class="line">	字段名1 字段类型(长度),</span><br><span class="line">	字段名2 字段类型(长度),</span><br><span class="line">	字段名3 字段类型(长度)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> test(</span><br><span class="line">	id <span class="type">INT</span>,</span><br><span class="line">	uname <span class="type">VARCHAR</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>快速创建一个表test1，结构与表test相同（复制表结构）：</p>
<p>CREATE TABLE test1 LIKE test;</p>
<p><strong>删，删除表</strong></p>
<table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>drop table 表名；</td>
<td>删除表（从数据库中永久删除某一张表）</td>
</tr>
<tr>
<td>drop table if exists 表名；</td>
<td>判断表是否存在， 存在的话就删除,不存在就不执行删除</td>
</tr>
</tbody></table>
<p><strong>改，修改表</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 修改表名字rename</span></span><br><span class="line">RENAME <span class="keyword">TABLE</span> test <span class="keyword">TO</span> test1;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表字符集alter</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> test1 <span class="type">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 给表添加一个字段alter,add</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> test1 <span class="keyword">ADD</span> age <span class="type">INT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表的字段信息alter, modify</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> test1 MODIFY age <span class="type">VARCHAR</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 修改表的字段名字和信息alter, change</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> test1 CHANGE age uage <span class="type">INT</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 给表删除一个字段alter, drop</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> test1 <span class="keyword">DROP</span> uage;</span><br></pre></td></tr></table></figure>

<p><strong>查，查看表</strong></p>
<table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>show tables;</td>
<td>查看当前数据库中的所有表名</td>
</tr>
<tr>
<td>desc 表名；</td>
<td>查看数据表的结构</td>
</tr>
<tr>
<td>show create table 表名</td>
<td>查看创建表的sql语句</td>
</tr>
</tbody></table>
<h2 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h2><p>数据管理语言</p>
<p><strong>增，插入数据</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名 （字段名1，字段名2） values(字段值1，字段值2);  </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into 表名 values(字段值1，字段值2...所有字段);</span><br></pre></td></tr></table></figure>

<p><strong>删，删除数据</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名 where 条件表达式;  删除表的指定条件的记录</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from 表名;       删除表的所有记录，不推荐</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truncate table 表名;    删除表的所有记录，推荐</span><br></pre></td></tr></table></figure>

<p><strong>改，修改数据</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表名 set 列名 = 值;   修改表中所有数据</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update 表名 set 列名 = 值 where 条件表达式；  修改表中指定条件的数据</span><br></pre></td></tr></table></figure>

<h2 id="DQL"><a href="#DQL" class="headerlink" title="DQL"></a>DQL</h2><p>数据查询语言</p>
<p><strong>查，查询数据</strong></p>
<p>select 列名 from 表名  where 条件表达式</p>
<p><strong>简单查询</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM 表名;        查询所有字段，使用 * 表示所有列</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT id,uname FROM 表名;   查询指定的字段</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT uname AS &#x27;姓名&#x27; FROM 表名;  给查询出来的字段取别名   </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT id + 100 AS &#x27;编号&#x27;, uname FROM 表名;  查询出的结果可以进行运算</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT * FROM 表名;     使用DISTINCT去重操作</span><br></pre></td></tr></table></figure>

<p><strong>运算符</strong></p>
<p>比较运算符</p>
<table>
<thead>
<tr>
<th><strong>运算符</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>&gt; &lt; &lt;= &gt;= = &lt;&gt; !=</td>
<td>大于、小于、大于(小于)等于、不等于</td>
</tr>
<tr>
<td>BETWEEN …AND…</td>
<td>显示在某一区间的值  例如: 2000-10000之间：  Between 2000 and 10000</td>
</tr>
<tr>
<td>IN(集合)</td>
<td>集合表示多个值,使用逗号分隔,例如:  name in (悟空，八戒) in中的每个数据都会作为一次条件,只要满足条件就会显示</td>
</tr>
<tr>
<td>LIKE ‘%张%’</td>
<td>模糊查询，%表示任意多个字符，_表示任意一个字符</td>
</tr>
<tr>
<td>IS NULL</td>
<td>查询某一列为NULL的值, 注: 不能写 =  NULL</td>
</tr>
<tr>
<td>IS NOT NULL</td>
<td>查询某一列不为NULL的值</td>
</tr>
</tbody></table>
<p>逻辑运算符</p>
<table>
<thead>
<tr>
<th><strong>运算符</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>And &amp;&amp;</td>
<td>多个条件同时成立</td>
</tr>
<tr>
<td>Or ||</td>
<td>多个条件任一成立</td>
</tr>
<tr>
<td>Not</td>
<td>不成立，取反。</td>
</tr>
</tbody></table>
<p><strong>条件查询</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 查询员工姓名为黄蓉的员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="operator">=</span> <span class="string">&#x27;黄蓉&#x27;</span>; </span><br><span class="line"></span><br><span class="line"># 查询薪水价格为<span class="number">5000</span>的员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="operator">=</span> <span class="number">5000</span>; </span><br><span class="line"></span><br><span class="line"># 查询薪水价格不是<span class="number">5000</span>的所有员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="operator">!=</span> <span class="number">5000</span>; </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="operator">&lt;&gt;</span> <span class="number">5000</span>; </span><br><span class="line"></span><br><span class="line"># 查询薪水价格大于<span class="number">6000</span>元的所有员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">6000</span>;</span><br><span class="line"></span><br><span class="line"># 查询薪水价格在<span class="number">5000</span>到<span class="number">10000</span>之间所有员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="keyword">BETWEEN</span> <span class="number">5000</span> <span class="keyword">AND</span> <span class="number">10000</span>; </span><br><span class="line"></span><br><span class="line"># 查询薪水价格是<span class="number">3600</span>或<span class="number">7200</span>或者<span class="number">20000</span>的所有员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="operator">=</span> <span class="number">3600</span> <span class="keyword">OR</span> salary <span class="operator">=</span> <span class="number">7200</span> <span class="keyword">OR</span> salary <span class="operator">=</span> <span class="number">20000</span>; </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="keyword">IN</span>(<span class="number">3600</span>,<span class="number">7200</span>,<span class="number">20000</span>);</span><br></pre></td></tr></table></figure>

<p><strong>模糊查询</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 查询含有<span class="string">&#x27;精&#x27;</span>字的所有员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="keyword">LIKE</span> <span class="string">&#x27;%精%&#x27;</span>; </span><br><span class="line"></span><br><span class="line"># 查询以<span class="string">&#x27;孙&#x27;</span>开头的所有员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="keyword">LIKE</span> <span class="string">&#x27;孙%&#x27;</span>; </span><br><span class="line"></span><br><span class="line"># 查询第二个字为<span class="string">&#x27;兔&#x27;</span>的所有员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> ename <span class="keyword">LIKE</span> <span class="string">&#x27;_兔%&#x27;</span>; </span><br><span class="line"></span><br><span class="line"># 查询没有部门的员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> dept_name <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"></span><br><span class="line"># 查询有部门的员工信息 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> dept_name <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure>

<h2 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h2><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>通过 ORDER BY 子句,可以将查询出的结果进行排序(排序只是显示效果,不会影响真实数据)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 字段名 FROM 表名 [WHERE 条件表达式] ORDER BY 排序字段名 [ASC / DESC]</span><br></pre></td></tr></table></figure>

<ul>
<li>ASC：升序</li>
<li>DESC：降序</li>
</ul>
<p>多行排序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 字段名 FROM 表名 [WHERE 条件表达式] ORDER BY 排序字段名 [ASC / DESC], 排序字段名 [ASC / DESC]</span><br></pre></td></tr></table></figure>

<h3 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h3><p>之前我们做的查询都是横向查询，它们都是根据条件一行一行的进行判断，而使用聚合函数查询是纵向<br>查询，它是对某一列的值进行计算，然后返回一个单一的值(另外聚合函数会忽略null空值。)；</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT 聚合函数(字段名) FROM 表名 [where 条件];</span><br></pre></td></tr></table></figure>

<p><strong>常用聚合函数：</strong> count()，sum()，max(),  min(),  avg() </p>
<p>案例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1</span> 查询员工的总数 <span class="comment">-- 统计表中的记录条数 使用 count() </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(eid) <span class="keyword">FROM</span> emp; <span class="comment">-- 使用某一个字段 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> emp; <span class="comment">-- 使用 * </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="number">1</span>) <span class="keyword">FROM</span> emp; <span class="comment">-- 使用 1,与 * 效果一样</span></span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">2</span> 查看员工总薪水、最高薪水、最小薪水、薪水的平均值 <span class="comment">-- sum函数求和, max函数求最大, min函数求最小, avg函数求平均值 </span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">	<span class="built_in">SUM</span>(salary) <span class="keyword">AS</span> <span class="string">&#x27;总薪水&#x27;</span>, </span><br><span class="line">	<span class="built_in">MAX</span>(salary) <span class="keyword">AS</span> <span class="string">&#x27;最高薪水&#x27;</span>, </span><br><span class="line">	<span class="built_in">MIN</span>(salary) <span class="keyword">AS</span> <span class="string">&#x27;最低薪水&#x27;</span>, </span><br><span class="line">	<span class="built_in">AVG</span>(salary) <span class="keyword">AS</span> <span class="string">&#x27;平均薪水&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> emp;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">3</span> 查询薪水大于<span class="number">4000</span>员工的个数 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> salary <span class="operator">&gt;</span> <span class="number">4000</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">4</span> 查询部门为<span class="string">&#x27;教学部&#x27;</span>的所有员工的个数 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> emp <span class="keyword">WHERE</span> dept_name <span class="operator">=</span> <span class="string">&#x27;教学部&#x27;</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">5</span> 查询部门为<span class="string">&#x27;市场部&#x27;</span>所有员工的平均薪水 </span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">	<span class="built_in">AVG</span>(salary) <span class="keyword">AS</span> <span class="string">&#x27;市场部平均薪资&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> emp </span><br><span class="line"><span class="keyword">WHERE</span> dept_name <span class="operator">=</span> <span class="string">&#x27;市场部&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><p>分组查询指的是使用 GROUP BY 语句,对查询的信息进行分组,相同数据作为一组</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 分组字段<span class="operator">/</span>聚合函数 <span class="keyword">FROM</span> 表名 [<span class="keyword">where</span> 条件] <span class="keyword">GROUP</span> <span class="keyword">BY</span> 分组字段 [<span class="keyword">HAVING</span> 条件];</span><br></pre></td></tr></table></figure>

<p>例如：通过性别字段 进行分组,求各组的平均薪资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> sex, <span class="built_in">AVG</span>(salary) <span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> sex;</span><br></pre></td></tr></table></figure>

<p>案例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span> 查询有什么部门 </span><br><span class="line"><span class="keyword">SELECT</span> dept_name <span class="keyword">AS</span> <span class="string">&#x27;部门名称&#x27;</span> <span class="keyword">FROM</span> emp <span class="keyword">GROUP</span> <span class="keyword">BY</span> dept_name;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">2.</span>查询每个部门的平均薪资 </span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">dept_name <span class="keyword">AS</span> <span class="string">&#x27;部门名称&#x27;</span>, <span class="built_in">AVG</span>(salary) <span class="keyword">AS</span> <span class="string">&#x27;平均薪资&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> emp </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> dept_name;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">3.</span>查询每个部门的平均薪资, 部门名称不能为<span class="keyword">null</span> </span><br><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">dept_name <span class="keyword">AS</span> <span class="string">&#x27;部门名称&#x27;</span>, <span class="built_in">AVG</span>(salary) <span class="keyword">AS</span> <span class="string">&#x27;平均薪资&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> emp </span><br><span class="line"><span class="keyword">WHERE</span> dept_name <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> dept_name;</span><br></pre></td></tr></table></figure>

<p>having的用法：</p>
<ul>
<li><p>需要在分组后,对数据进行过滤,使用 关键字 having</p>
</li>
<li><p>分组操作中的having子语句，是用于在分组后对数据进行过滤的，作用类似于where条件。</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 查询平均薪资大于<span class="number">6000</span>的部门 <span class="comment">-- 需要在分组后再次进行过滤,使用 having </span></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">dept_name , <span class="built_in">AVG</span>(salary) </span><br><span class="line"><span class="keyword">FROM</span> emp </span><br><span class="line"><span class="keyword">WHERE</span> dept_name <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> dept_name </span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">AVG</span>(salary) <span class="operator">&gt;</span> <span class="number">6000</span> ;</span><br></pre></td></tr></table></figure>

<p>where 与 having的区别</p>
<ul>
<li>where：where 进行分组前的过滤，where 后面不能写 聚合函数</li>
<li>having：having 是分组后的过滤，having 后面可以写 聚合函数</li>
</ul>
<h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><ul>
<li>limit是限制的意思,用于 限制返回的查询结果的行数 (可以通过limit指定查询多少行数据)</li>
<li>limit 语法是 MySql的方言,用来完成分页</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段<span class="number">1</span>,字段<span class="number">2.</span>.. <span class="keyword">FROM</span> 表名 LIMIT <span class="keyword">offset</span> , length;</span><br></pre></td></tr></table></figure>

<p>参数说明：</p>
<ul>
<li>offset： 起始行数, 从0开始记数, 如果省略 则默认为 0.</li>
<li>length：返回的行数</li>
</ul>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 查询emp表中的前 <span class="number">5</span>条数据</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp LIMIT <span class="number">0</span> , <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<p>分页操作：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 分页操作 每页显示3条数据 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp LIMIT <span class="number">0</span>,<span class="number">3</span>; <span class="comment">-- 第1页 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp LIMIT <span class="number">3</span>,<span class="number">3</span>; <span class="comment">-- 第2页 2-1=1 1*3=3 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> emp LIMIT <span class="number">6</span>,<span class="number">3</span>; <span class="comment">-- 第三页</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 分页公式 起始索引 = (当前页 - 1) * 每页条数</span></span><br></pre></td></tr></table></figure>

<h2 id="sql约束"><a href="#sql约束" class="headerlink" title="sql约束"></a>sql约束</h2><p>约束的作用: 对表中的数据进行进一步的限制，从而保证数据的正确性、有效性、完整性. 违反约束的不正确数据,将无法插入到表中</p>
<table>
<thead>
<tr>
<th><strong>约束名</strong></th>
<th><strong>约束关键字</strong></th>
</tr>
</thead>
<tbody><tr>
<td>主键</td>
<td>primary  key</td>
</tr>
<tr>
<td>唯一</td>
<td>unique</td>
</tr>
<tr>
<td>非空</td>
<td>not  null</td>
</tr>
<tr>
<td>外键</td>
<td>foreign  key</td>
</tr>
<tr>
<td>默认值</td>
<td>default</td>
</tr>
</tbody></table>
<h3 id="主键"><a href="#主键" class="headerlink" title="主键"></a>主键</h3><p>不可重复 唯一 非空，用来表示数据库中的每一条记录，每个表至多一个主键</p>
<p><strong>添加主键</strong></p>
<p>1，创建表时给字段添加主键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp2( </span><br><span class="line">    <span class="comment">-- 设置主键 唯一 非空 </span></span><br><span class="line">    eid <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">    ename <span class="type">VARCHAR</span>(<span class="number">20</span>), </span><br><span class="line">    sex <span class="type">CHAR</span>(<span class="number">1</span>) </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 或者</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp2( </span><br><span class="line">    eid <span class="type">INT</span> , </span><br><span class="line">    ename <span class="type">VARCHAR</span>(<span class="number">20</span>), </span><br><span class="line">    sex <span class="type">CHAR</span>(<span class="number">1</span>), </span><br><span class="line">    <span class="comment">-- 指定主键为 eid字段 </span></span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY(eid) </span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>2，给已存在且没有主键的表，添加主键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp2 <span class="keyword">ADD</span> <span class="keyword">PRIMARY</span> KEY(eid);</span><br></pre></td></tr></table></figure>

<p><strong>删除主键</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> emp2 <span class="keyword">DROP</span> <span class="keyword">PRIMARY</span> KEY;</span><br></pre></td></tr></table></figure>

<p><strong>设置自增主键</strong></p>
<p>AUTO_INCREMENT： 表示自动增长(字段类型必须是整数类型) </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> emp2( </span><br><span class="line">    <span class="comment">-- 关键字 AUTO_INCREMENT,主键类型必须是整数类型 </span></span><br><span class="line">    eid <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT, </span><br><span class="line">    ename <span class="type">VARCHAR</span>(<span class="number">20</span>), </span><br><span class="line">    sex <span class="type">CHAR</span>(<span class="number">1</span>) </span><br><span class="line">)AUTO_INCREMENT<span class="operator">=</span><span class="number">100</span>;  <span class="comment">-- 还可以定义自增主键的起始值</span></span><br></pre></td></tr></table></figure>

<p><strong>删除表中数据对自增主键的影响</strong></p>
<table>
<thead>
<tr>
<th><strong>清空表数据的方式</strong></th>
<th><strong>特点</strong></th>
</tr>
</thead>
<tbody><tr>
<td>DELETE</td>
<td>只是删除表中所有数据,对自增没有影响，主键自增到哪还是哪里</td>
</tr>
<tr>
<td>TRUNCATE</td>
<td>truncate 是将整个表删除掉,然后创建一个新的表自增的主键,重新从起始值开始</td>
</tr>
</tbody></table>
<h3 id="唯一键"><a href="#唯一键" class="headerlink" title="唯一键"></a>唯一键</h3><p>唯一不能重复， 但是可以为空，一个表中可以有多个唯一键约束</p>
<table>
<thead>
<tr>
<th><strong>主键约束与唯一约束的区别</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1.  主键约束 唯一且不能够为空</td>
</tr>
<tr>
<td>2.  唯一约束,唯一 但是可以为空</td>
</tr>
<tr>
<td>3.  一个表中只能有一个主键 , 但是可以有多个唯一约束</td>
</tr>
</tbody></table>
<h1 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h1><p>事务是一个整体，由一条或者多条SQL 语句组成，这些SQL语句要么都执行成功,要么都执行失败，只要有一条SQL出现异常，整个操作就会回滚，整个业务执行失败</p>
<table>
<thead>
<tr>
<th><strong>功能</strong></th>
<th><strong>语句</strong></th>
</tr>
</thead>
<tbody><tr>
<td>开启事务</td>
<td><strong>start transaction;</strong> 或者 <strong>BEGIN</strong>;</td>
</tr>
<tr>
<td>提交事务</td>
<td><strong>commit;</strong></td>
</tr>
<tr>
<td>回滚事务</td>
<td><strong>rollback;</strong></td>
</tr>
</tbody></table>
<h2 id="事务的四大特性"><a href="#事务的四大特性" class="headerlink" title="事务的四大特性"></a>事务的四大特性</h2><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody><tr>
<td>原子性</td>
<td>每个事务都是一个整体，不可再拆分，事务中所有的  SQL 语句要么都执行成功， 要么都失败。</td>
</tr>
<tr>
<td>一致性</td>
<td>事务在执行前数据库的状态与执行后数据库的状态保持一致。如：转账前2个人的 总金额是  2000，转账后 2 个人总金额也是 2000.</td>
</tr>
<tr>
<td>隔离性</td>
<td>事务与事务之间不应该相互影响，执行时保持隔离的状态.</td>
</tr>
<tr>
<td>持久性</td>
<td>一旦事务执行成功，对数据库的修改是持久的。就算关机，数据也是要保存下来的.</td>
</tr>
</tbody></table>
<h2 id="事务的隔离级别"><a href="#事务的隔离级别" class="headerlink" title="事务的隔离级别"></a>事务的隔离级别</h2><p>事务在操作时的理想状态：<br>所有的事务之间保持隔离，互不影响。因为并发操作，多个用户同时访问同一个 数据。可能引发并发访问的问题</p>
<table>
<thead>
<tr>
<th><strong>并发访问的问题</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>脏读</td>
<td>一个事务读取到了另一个事务中尚未提交的数据</td>
</tr>
<tr>
<td>不可重复读</td>
<td>一个事务中两次读取的数据内容不一致, 要求的是在一个事务中多次读取时数据是一致的. 这是进行  update 操作时引发的问题</td>
</tr>
<tr>
<td>幻读</td>
<td>一个事务中,某一次的  select 操作得到的结果所表征的数据状态, 无法支撑后续的业务操作. 查询得到的数据状态不准确,导致幻读.</td>
</tr>
</tbody></table>
<p><strong>四种隔离级别</strong>（底到高）</p>
<p>1，read uncommitted：(读未提交) 会引发脏读，A事务开启后会读取到B事务没有提交的数据。</p>
<p>2，read committed：（读已提交）会引发不可重复读，A事务开启后访问了一个数据，此时B事务修改了改数据，然后B事务提交，A事务再次访问该数据时，是修改了的数据，导致前后两次访问同一数据不一致。（Oracle和SQLServer默认）</p>
<p>3，repeatable read：（可重复读）会引发幻读，例如A事务访问某个数据不存在时，准备添加该数据，而此时B事务刚好添加了该数据，A事务添加数据时就会异常。（MySql默认）</p>
<p>4，serializable：（串行化）完全隔离，所有问题解决</p>
<p>注意：出现问题，提高隔离级别可解决。虽然隔离级别越高，隔离性越好，但是代价是效率越低。</p>
<h2 id="隔离级别相关命令"><a href="#隔离级别相关命令" class="headerlink" title="隔离级别相关命令"></a>隔离级别相关命令</h2><p>查看隔离级别</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@tx</span>_isolation;</span><br></pre></td></tr></table></figure>

<p>设置事务隔离级别，需要退出 MySQL 再重新登录才能看到隔离级别的变化</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> transaction isolation level 级别名称; </span><br><span class="line"></span><br><span class="line">read uncommitted 读未提交 </span><br><span class="line">read committed 读已提交 </span><br><span class="line">repeatable read 可重复读 </span><br><span class="line">serializable 串行化</span><br></pre></td></tr></table></figure>

<h1 id="多表"><a href="#多表" class="headerlink" title="多表"></a>多表</h1><h2 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h2><ul>
<li><p>外键指的是在 从表 中的某个字段作为外键 与 主表 的主键字段相对于, 比如员工表的 dept_id,就是外键</p>
</li>
<li><p>使用外键约束可以让两张表之间产生一个对应关系,从而保证主从表的引用的完整性</p>
</li>
</ul>
<p>多表关系中的主表和从表：<br>主表: 主键id所在的表, 约束别人的表<br>从表: 外键所在的表多, 被约束的表</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMMqC8"><img src="https://s1.ax1x.com/2022/03/22/qMMqC8.png" alt="qMMqC8.png"></a></p>
<p><strong>创建语法</strong></p>
<p>1，新建表时，在字段后面，创建外键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">CONSTRAINT</span>] [外键约束名称] <span class="keyword">FOREIGN</span> KEY(外键字段名) <span class="keyword">REFERENCES</span> 主表名(主键字段名)</span><br></pre></td></tr></table></figure>

<p>2，给已存在的表添加外键</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 从表 <span class="keyword">ADD</span> [<span class="keyword">CONSTRAINT</span>] [外键约束名称] <span class="keyword">FOREIGN</span> KEY (外键字段名) <span class="keyword">REFERENCES</span> 主表(主 键字段名);</span><br></pre></td></tr></table></figure>

<p><strong>删除外键</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 从表 <span class="keyword">drop</span> <span class="keyword">foreign</span> key 外键约束名称</span><br></pre></td></tr></table></figure>



<p><strong>外键约束的注意事项</strong></p>
<ol>
<li><p>从表外键类型必须与主表主键类型一致 否则创建失败. </p>
</li>
<li><p>添加数据时, 应该先添加主表中的数据.</p>
</li>
<li><p>删除数据时,应该先删除从表中的数据.</p>
</li>
</ol>
<p><strong>外键的级联删除</strong></p>
<p>创建外键时，在后面添加语法：ON DELETE CASCADE，为级联删除。</p>
<p>即，删除数据时，删除主表中的数据，从表中对应的数据也被直接删除。</p>
<p>例如，添加了级联删除后，删除部门表中的开发部，则员工表中，关于开发部的所有员工都将会被自动删除。</p>
<h2 id="多表关系设计"><a href="#多表关系设计" class="headerlink" title="多表关系设计"></a>多表关系设计</h2><p>表与表之间的三种关系：</p>
<ul>
<li>一对多关系: 最常见的关系, 学生对班级,员工对部门</li>
<li>多对多关系: 学生与课程, 用户与角色</li>
<li>一对一关系: 使用较少,因为一对一关系可以合成为一张表</li>
</ul>
<p><strong>一对多关系（1:n）</strong><br>例如：班级和学生，部门和员工，客户和订单，分类和商品</p>
<p>建表原则：在从表(多方)创建一个字段,字段作为外键指向主表(一方)的主键</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMYWnS"><img src="https://s1.ax1x.com/2022/03/22/qMYWnS.png" alt="qMYWnS.png"></a></p>
<p><strong>多对多（m:n）</strong><br>例如：老师和学生，学生和课程，用户和角色 </p>
<p>建表原则：需要创建第三张表，中间表中至少两个字段，这两个字段分别作为外键指向各自一方的 主键。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMt1u8"><img src="https://s1.ax1x.com/2022/03/22/qMt1u8.png" alt="qMt1u8.png"></a></p>
<p><strong>一对一（1:1）</strong><br>在实际的开发中应用不多.因为一对一可以创建成一张表。 </p>
<p>建表原则：在任意一方添加外键，指向另一张表的主键，外键唯一 UNIQUE  </p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMtTVe"><img src="https://s1.ax1x.com/2022/03/22/qMtTVe.png" alt="qMtTVe.png"></a></p>
<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><p>多表查询分为：内连接查询和外连接查询</p>
<h3 id="笛卡尔乘积"><a href="#笛卡尔乘积" class="headerlink" title="笛卡尔乘积"></a>笛卡尔乘积</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段名 <span class="keyword">FROM</span> 表<span class="number">1</span>, 表<span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>假设集合A={a, b}，集合B={0, 1, 2}，则两个集合的笛卡尔积为{(a, 0), (a, 1), (a, 2), (b, 0), (b, 1), (b, 2)}。</p>
<h3 id="内连接查询"><a href="#内连接查询" class="headerlink" title="内连接查询"></a>内连接查询</h3><p><strong>隐式内连接</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 语法</span><br><span class="line"><span class="keyword">SELECT</span> 字段名 <span class="keyword">FROM</span> 左表, 右表 <span class="keyword">WHERE</span> 连接条件;</span><br></pre></td></tr></table></figure>

<p>例如：查询所有商品信息和对应的分类信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products p,category c <span class="keyword">WHERE</span> p.category_id <span class="operator">=</span> c.cid;</span><br></pre></td></tr></table></figure>



<p><strong>显式内连接</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 语法   <span class="comment">-- inner 可以省略</span></span><br><span class="line"><span class="keyword">SELECT</span> 字段名 <span class="keyword">FROM</span> 左表 [<span class="keyword">INNER</span>] <span class="keyword">JOIN</span> 右表 <span class="keyword">ON</span> 连接条件 <span class="keyword">where</span> 条件</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 查询所有商品信息和对应的分类信息</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products p <span class="keyword">INNER</span> <span class="keyword">JOIN</span> category c <span class="keyword">ON</span> p.category_id <span class="operator">=</span> c.cid;</span><br><span class="line"></span><br><span class="line"># 查询鞋服分类下,价格大于<span class="number">500</span>的商品名称和价格</span><br><span class="line"><span class="keyword">SELECT</span> p.pname, p.price </span><br><span class="line"><span class="keyword">FROM</span> products p <span class="keyword">INNER</span> <span class="keyword">JOIN</span> category c <span class="keyword">ON</span> p.category_id <span class="operator">=</span> c.cid </span><br><span class="line"><span class="keyword">WHERE</span> p.price <span class="operator">&gt;</span> <span class="number">500</span> <span class="keyword">AND</span> cname <span class="operator">=</span> <span class="string">&#x27;鞋服&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="外连接查询"><a href="#外连接查询" class="headerlink" title="外连接查询"></a>外连接查询</h3><p>左外连接的特点：</p>
<ul>
<li>以左表为基准, 匹配右边表中的数据,如果匹配的上,就展示匹配到的数据</li>
<li>如果匹配不到, 左表中的数据正常展示, 右边的展示为null.</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 语法  <span class="keyword">outer</span>可省略</span><br><span class="line"><span class="keyword">SELECT</span> 字段名 <span class="keyword">FROM</span> 左表 <span class="keyword">LEFT</span> [<span class="keyword">OUTER</span>] <span class="keyword">JOIN</span> 右表 <span class="keyword">ON</span> 连接条件 <span class="keyword">where</span> 条件</span><br></pre></td></tr></table></figure>

<p>例如：左外连接, 查询每个分类下的商品个数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> c.cname <span class="keyword">AS</span> <span class="string">&#x27;分类名称&#x27;</span>, <span class="built_in">COUNT</span>(p.pid) <span class="keyword">AS</span> <span class="string">&#x27;商品个数&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> category c <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> products p </span><br><span class="line"><span class="keyword">ON</span> c.cid <span class="operator">=</span> p.category_id</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> c.cname;</span><br></pre></td></tr></table></figure>

<p>右外连接的特点：与左外连接一样，只不过以右表为基准，关键字，right  [outer]  join</p>
<p><strong>各种连接方式总结</strong>：</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMd1Rs"><img src="https://s1.ax1x.com/2022/03/22/qMd1Rs.png" alt="qMd1Rs.png"></a></p>
<ul>
<li>内连接: inner join , 只获取两张表中 交集部分的数据.</li>
<li>左外连接: left join , 以左表为基准 ,查询左表的所有数据, 以及与右表有交集的部分</li>
<li>右外连接: right join , 以右表为基准,查询右表的所有的数据,以及与左表有交集的部分</li>
</ul>
<h2 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h2><p>概念：一条select 查询语句的结果, 作为另一条 select 语句的一部分</p>
<p>特点：<br>子查询必须放在小括号中<br>子查询一般作为父查询的查询条件使用</p>
<p>子查询常见分类：</p>
<ul>
<li>where型 子查询: 将子查询的结果, 作为父查询的比较条件</li>
<li>from型 子查询 : 将子查询的结果, 作为 一张表,提供给父层查询使用</li>
<li>exists型 子查询: 子查询的结果是单列多行, 类似一个数组, 父层查询使用 IN 函数 ,包含子查询的结果</li>
</ul>
<p><strong>where型 子查询</strong></p>
<p>将子查询的结果, 作为父查询的比较条件</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 查询字段 <span class="keyword">FROM</span> 表 <span class="keyword">WHERE</span> 字段<span class="operator">=</span>（子查询）;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 通过子查询的方式, 查询价格最高的商品信息 </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.先查询出最高价格 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(price) <span class="keyword">FROM</span> products; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2.将最高价格作为条件,获取商品信息 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> price <span class="operator">=</span> (<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(price) <span class="keyword">FROM</span> products);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#查询化妆品分类下的 商品名称 商品价格 </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 先查出化妆品分类的 id </span></span><br><span class="line"><span class="keyword">SELECT</span> cid <span class="keyword">FROM</span> category <span class="keyword">WHERE</span> cname <span class="operator">=</span> <span class="string">&#x27;化妆品&#x27;</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 根据分类id ,去商品表中查询对应的商品信息 </span></span><br><span class="line"><span class="keyword">SELECT</span> p.pname, p.price </span><br><span class="line"><span class="keyword">FROM</span> products p </span><br><span class="line"><span class="keyword">WHERE</span> p.category_id <span class="operator">=</span> (<span class="keyword">SELECT</span> cid <span class="keyword">FROM</span> category <span class="keyword">WHERE</span> cname <span class="operator">=</span> <span class="string">&#x27;化妆品&#x27;</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 查询小于平均价格的商品信息</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.查询平均价格 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(price) <span class="keyword">FROM</span> products;</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>查询小于平均价格的商品 </span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> price <span class="operator">&lt;</span> (<span class="keyword">SELECT</span> <span class="built_in">AVG</span>(price) <span class="keyword">FROM</span> products);</span><br></pre></td></tr></table></figure>



<p><strong>from型 子查询</strong></p>
<p> 将子查询的结果, 作为 一张表,提供给父层查询使用</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 查询字段 <span class="keyword">FROM</span> （子查询）表别名 <span class="keyword">WHERE</span> 条件;</span><br></pre></td></tr></table></figure>



<p><strong>exists型 子查询</strong></p>
<p>子查询的结果是单列多行, 父层查询使用 IN 函数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 查询字段 <span class="keyword">FROM</span> 表 <span class="keyword">WHERE</span> 字段 <span class="keyword">IN</span> （子查询）;</span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 查询价格小于两千的商品,来自于哪些分类(名称) </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 先查询价格小于2000 的商品的,分类ID </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> category_id <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> price <span class="operator">&lt;</span> <span class="number">2000</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 在根据分类的id信息,查询分类名称</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> category <span class="keyword">WHERE</span> cid <span class="keyword">in</span> (<span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> category_id <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> price <span class="operator">&lt;</span> <span class="number">2000</span>);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 查询家电类 与 鞋服类下面的全部商品信息 </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 先查询出家电与鞋服类的 分类ID </span></span><br><span class="line"><span class="keyword">SELECT</span> cid <span class="keyword">FROM</span> category <span class="keyword">WHERE</span> cname <span class="keyword">IN</span> (<span class="string">&#x27;家电&#x27;</span>,<span class="string">&#x27;鞋服&#x27;</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 根据cid 查询分类下的商品信息 </span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> products <span class="keyword">WHERE</span> category_id <span class="keyword">IN</span> (<span class="keyword">SELECT</span> cid <span class="keyword">FROM</span> category <span class="keyword">WHERE</span> cname <span class="keyword">IN</span> (<span class="string">&#x27;家电&#x27;</span>,<span class="string">&#x27;鞋服&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p><strong>总结</strong></p>
<p>1，子查询如果查出的是一个字段(单列), 那就在where后面作为条件使用. </p>
<p>2，子查询如果查询出的是多个字段(多列), 就当做一张表使用(要起别名).</p>
<h1 id="数据库范式"><a href="#数据库范式" class="headerlink" title="数据库范式"></a>数据库范式</h1><p>为了建立冗余较小、结构合理的数据库，设计数据库时必须遵循一定的规则。在关系型数据库中这种规则就称为范式。</p>
<p>范式是符合某一种设计要求的总结。要想设计一个结构合理的关系型数据库，必须满足一定的范式</p>
<p><strong>第一范式 1NF</strong></p>
<ul>
<li>原子性, 做到列不可拆分</li>
<li>第一范式是最基本的范式。数据库表里面字段都是单一属性的，不可再分, 如果数据表中每个字段都是不可再分的最小数据单元，则满足第一范式。</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMBRoT"><img src="https://s1.ax1x.com/2022/03/22/qMBRoT.png" alt="qMBRoT.png"></a></p>
<p><strong>第二范式 2NF</strong></p>
<ul>
<li>在第一范式的基础上更进一步，目标是确保表中的每列都和主键相关。</li>
<li>一张表只能描述一件事.</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMBXFO"><img src="https://s1.ax1x.com/2022/03/22/qMBXFO.png" alt="qMBXFO.png"></a></p>
<p>学员信息表中其实在描述两个事物 , 一个是学员的信息,一个是课程信息</p>
<p>如果放在一张表中,会导致数据的冗余,如果删除学员信息, 成绩的信息也被删除了</p>
<p><strong>第三范式 3NF</strong></p>
<ul>
<li>消除传递依赖</li>
<li>表的信息，如果能够被推导出来，就不应该单独的设计一个字段来存放</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMDAk8"><img src="https://s1.ax1x.com/2022/03/22/qMDAk8.png" alt="qMDAk8.png"></a></p>
<p>通过number 与 price字段就可以计算出总金额,不要在表中再做记录(空间最省)</p>
<p><strong>反三范式</strong></p>
<ul>
<li>反范式化指的是通过增加冗余或重复的数据来提高数据库的读性能</li>
<li>浪费存储空间,节省查询时间 (以空间换时间)</li>
</ul>
<p><strong>冗余字段</strong>：某个字段在多张表出现，且其意义相同，为冗余字段</p>
<p>反三范式案例：两张表，用户表、订单表，用户表中有字段name，而订单表中也存在字段name。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/qMD79g"><img src="https://s1.ax1x.com/2022/03/22/qMD79g.png" alt="qMD79g.png"></a></p>
<p>适当冗余的好处：</p>
<p>当需要查询“订单表”所有数据并且只需要“用户表”的name字段时, 没有冗余字段 就需要去join连接用户表,假设表中数据量非常的大, 那么会这次连接查询就会非常大的消耗系统的性能.</p>
<p>这时候冗余的字段就可以派上用场了, 有冗余字段我们查一张表就可以了.</p>
<p><strong>总结</strong></p>
<p>1，尽量遵循范式理论的规约，尽可能少的冗余字段，让数据库设计看起来精致、优雅、让人心醉。</p>
<p>2，合理的加入冗余字段这个润滑剂，减少join，让数据库执行性能更高更快。</p>
<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><p>在数据库表中，对字段建立索引可以大大提高查询速度。通过善用这些索引，可以令MySQL的查询和运行更加高效。</p>
<p><strong>常见索引</strong></p>
<table>
<thead>
<tr>
<th><strong>索引名称</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>主键索引 (primary  key)</td>
<td>主键是主键索引，是一种唯一性索引,每个表只能有一个主键, 用于标识数据表中的每一条记录</td>
</tr>
<tr>
<td>唯一索引 (unique)</td>
<td>唯一键是唯一索引，指的是 索引列的所有值都只能出现一次, 必须唯一.</td>
</tr>
<tr>
<td>普通索引 (index)</td>
<td>最常见的索引,作用就是 加快对数据的访问速度</td>
</tr>
</tbody></table>
<p>MySql将一个表的索引都保存在同一个索引文件中, 如果对中数据进行增删改操作,MySql都会自动的更<br>新索引.</p>
<h2 id="主键索引"><a href="#主键索引" class="headerlink" title="主键索引"></a>主键索引</h2><p>其实主键就是主键索引。</p>
<p>创建表时添加主键索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名( </span><br><span class="line">    <span class="comment">-- 添加主键 (主键是唯一性索引,不能为null,不能重复,) </span></span><br><span class="line">    字段名 类型 <span class="keyword">PRIMARY</span> KEY, </span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>修改表结构添加主键索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span> <span class="keyword">PRIMARY</span> KEY ( 列名 )</span><br></pre></td></tr></table></figure>

<h2 id="唯一索引"><a href="#唯一索引" class="headerlink" title="唯一索引"></a>唯一索引</h2><p>其实唯一键就是唯一索引。</p>
<p>创建表时，添加唯一索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名( </span><br><span class="line">    列名 类型(长度), </span><br><span class="line">    <span class="comment">-- 添加唯一索引 </span></span><br><span class="line">    <span class="keyword">UNIQUE</span> [索引名称] (列名) </span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>在已有的表上添加唯一索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index 索引名 <span class="keyword">on</span> 表名(列名(长度))</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span> <span class="keyword">UNIQUE</span> ( 列名 )</span><br></pre></td></tr></table></figure>

<h2 id="普通索引"><a href="#普通索引" class="headerlink" title="普通索引"></a>普通索引</h2><p>普通索引的唯一任务是加快对数据的访问速度。因此，应该只为那些最经常出现在查询条件（WHERE column=）或排序条件（ORDERBY column）中的数据列创建索引。</p>
<p>在已有的表上添加普通索引</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index 索引名 <span class="keyword">on</span> 表名(列名[长度])</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span> INDEX 索引名 (列名)</span><br></pre></td></tr></table></figure>



<p><strong>删除索引</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">DROP</span> INDEX 索引名;</span><br></pre></td></tr></table></figure>

<h2 id="索引性能测试"><a href="#索引性能测试" class="headerlink" title="索引性能测试"></a>索引性能测试</h2><p>在数据量非常大的时候，查询</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 未添加索引,进行分组查询</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> test_index <span class="keyword">GROUP</span> <span class="keyword">BY</span> dname;</span><br></pre></td></tr></table></figure>

<p>速度非常慢，但是给该字段添加索引后，速度会大大提高。</p>
<p><strong>索引优缺点</strong></p>
<p>优：</p>
<ul>
<li>大大的提高查询速度</li>
<li>可以显著的减少查询中分组和排序的时间。</li>
</ul>
<p>缺：</p>
<ul>
<li> 创建索引和维护索引需要时间，而且数据量越大时间越长</li>
<li>当对表中的数据进行增加，修改，删除的时候，索引也要同时进行维护，降低了数据的维护速度</li>
</ul>
<h1 id="视图"><a href="#视图" class="headerlink" title="视图"></a>视图</h1><ol>
<li>   视图是一种虚拟表。 </li>
<li>   视图建立在已有表的基础上, 视图赖以建立的这些表称为基表。</li>
<li>   向视图提供数据内容的语句为 SELECT 语句, 可以将视图理解为存储起来的 SELECT 语句. </li>
<li>   视图向用户提供基表数据的另一种表现形式</li>
</ol>
<p><strong>作用</strong></p>
<p>1，权限控制时可以使用</p>
<p>2，简化复杂的多表查询</p>
<p><strong>创建视图</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> 视图名 [column_list] <span class="keyword">as</span> 查询语句;</span><br></pre></td></tr></table></figure>

<p>创建了视图后，把视图当做一张只读的表操作就可以。</p>
<p><strong>删除视图</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">VIEW</span> 视图名;</span><br></pre></td></tr></table></figure>



<p><strong>视图的使用</strong></p>
<p> 需求: 查询各个分类下的商品平均价格</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 通过 多表查询 </span></span><br><span class="line"><span class="keyword">SELECT</span> cname <span class="keyword">AS</span> <span class="string">&#x27;分类名称&#x27;</span>, <span class="built_in">AVG</span>(p.`price`) <span class="keyword">AS</span> <span class="string">&#x27;平均价格&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> products p <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> category c </span><br><span class="line"><span class="keyword">ON</span> p.`category_id` <span class="operator">=</span> c.`cid` </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> c.`cname`; </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 通过视图查询 可以省略连表的操作 </span></span><br><span class="line"><span class="keyword">SELECT</span> cname <span class="keyword">AS</span> <span class="string">&#x27;分类名称&#x27;</span>, <span class="built_in">AVG</span>(price) <span class="keyword">AS</span> <span class="string">&#x27;平均价格&#x27;</span> </span><br><span class="line"><span class="keyword">FROM</span> products_category_view </span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> cname;</span><br></pre></td></tr></table></figure>



<p><strong>视图与表的区别</strong></p>
<ul>
<li>视图是建立在表的基础上，表存储数据库中的数据，而视图只是做一个数据的展示</li>
<li>通过视图不能改变表中数据（一般情况下视图中的数据都是表中的列 经过计算得到的结果,不允许<br>更新）</li>
<li>删除视图，表不受影响，而删除表，视图不再起作用</li>
</ul>
<h1 id="存储过程"><a href="#存储过程" class="headerlink" title="存储过程"></a>存储过程</h1><p>MySQL 5.0 版本开始支持存储过程。</p>
<p>存储过程（Stored Procedure）是一种在数据库中存储复杂程序，以便外部程序调用的一种数据库对象。<br>存储过程是为了完成特定功能的SQL语句集，经编译创建并保存在数据库中，用户可通过指定存储过程的名字并给定参数(需要时)来调用执行。</p>
<p>简单理解: 存储过程其实就是一堆 SQL 语句的合并。中间加入了一些逻辑控制。</p>
<p><strong>优</strong></p>
<ul>
<li>存储过程一旦调试完成后，就可以稳定运行，（前提是，业务需求要相对稳定，没有变化）</li>
<li>存储过程减少业务系统与数据库的交互，降低耦合，数据库交互更加快捷（应用服务器，与<br>数据库服务器不在同一个地区）</li>
</ul>
<p><strong>缺</strong></p>
<ul>
<li>在互联网行业中，大量使用MySQL，MySQL的存储过程与Oracle的相比较弱，所以较少使<br>用，并且互联网行业需求变化较快也是原因之一</li>
<li>尽量在简单的逻辑中使用，存储过程移植十分困难，数据库集群环境，保证各个库之间存储<br>过程变更一致也十分困难。</li>
<li>阿里的代码规范里也提出了禁止使用存储过程，存储过程维护起来的确麻烦；</li>
</ul>
<p><strong>创建存储过程一，无参</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$ <span class="comment">-- 声明语句结束符，可以自定义 一般使用$$ </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 过程名称() <span class="comment">-- 声明存储过程 </span></span><br><span class="line"><span class="keyword">BEGIN</span> </span><br><span class="line"><span class="comment">-- 开始编写存储过程 -- 要执行的操作 </span></span><br><span class="line"><span class="keyword">END</span> $$ <span class="comment">-- 存储过程结束</span></span><br></pre></td></tr></table></figure>

<p>例子：编写存储过程, 查询所有商品数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$ </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> goods_proc() </span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> goods; </span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 调用</span></span><br><span class="line"><span class="keyword">call</span> goods_proc;</span><br></pre></td></tr></table></figure>



<p><strong>创建存储过程二，有输入参</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 存储过程名称(<span class="keyword">IN</span> 参数名 参数类型)</span><br></pre></td></tr></table></figure>

<p>例子：输入一个商品id, 根据id删除数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$ </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> goods_proc02(<span class="keyword">IN</span> goods_id <span class="type">INT</span>) </span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">   <span class="keyword">DELETE</span> <span class="keyword">FROM</span> goods <span class="keyword">WHERE</span> gid <span class="operator">=</span> goods_id ; </span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 调用 删除 id为2的商品 </span></span><br><span class="line"><span class="keyword">CALL</span> goods_proc02(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>



<p><strong>创建存储过程三，有输入参，有输出参</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> 存储过程名称(<span class="keyword">IN</span> 参数名 参数类型, <span class="keyword">out</span> 参数名 参数类型)</span><br></pre></td></tr></table></figure>

<p>变量赋值操作：SET @变量名=值</p>
<p>例子：向订单表 插入一条数据, 返回1,表示插入成功</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $$ </span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> orders_proc(<span class="keyword">IN</span> id <span class="type">INT</span>, <span class="keyword">IN</span> price <span class="type">INT</span>, <span class="keyword">OUT</span> out_num <span class="type">INT</span>) </span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="comment">-- 执行插入操作 </span></span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> orders <span class="keyword">VALUES</span>(id, price); </span><br><span class="line">    <span class="comment">-- 设置 num的值为 1 </span></span><br><span class="line">    <span class="keyword">SET</span> <span class="variable">@out</span>_num <span class="operator">=</span> <span class="number">1</span>; </span><br><span class="line">    <span class="comment">-- 返回 out_num的值 </span></span><br><span class="line">    <span class="keyword">SELECT</span> <span class="variable">@out</span>_num; </span><br><span class="line"><span class="keyword">END</span> $$</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 调用</span></span><br><span class="line"><span class="keyword">CALL</span> orders_proc(<span class="number">1</span>,<span class="number">30</span>,<span class="variable">@out</span>_num);</span><br></pre></td></tr></table></figure>

<h1 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h1><p>当我们执行一条sql语句的时候，这条sql语句的执行会自动去触发执行其他的sql语句。</p>
<p><strong>触发器四要素</strong></p>
<ol>
<li>监视地点（table） </li>
<li>监视事件（insert/update/delete） </li>
<li>触发时间（before/after） </li>
<li>触发事件（insert/update/delete）</li>
</ol>
<p><strong>创建语法</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">delimiter $ <span class="comment">-- 将Mysql的结束符号从 ; 改为 $,避免执行出现错误 </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> Trigger_Name <span class="comment">-- 触发器名，在一个数据库中触发器名是唯一的 </span></span><br><span class="line">(before<span class="operator">/</span>after) (<span class="keyword">insert</span><span class="operator">/</span>update<span class="operator">/</span><span class="keyword">delete</span>) <span class="comment">-- 触发的时机 和 监视的事件 </span></span><br><span class="line"><span class="keyword">on</span> table_Name <span class="comment">-- 触发器所在的表 </span></span><br><span class="line"><span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span> <span class="comment">-- 固定写法 叫做行触发器, 每一行受影响，触发事件都执行 </span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="comment">-- begin和end之间写触发事件 </span></span><br><span class="line"><span class="keyword">end</span> $ <span class="comment">-- 结束标记</span></span><br></pre></td></tr></table></figure>

<p>例子：在下订单的时候，对应的商品的库存量要相应的减少</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.修改结束标识 </span></span><br><span class="line">DELIMITER $ </span><br><span class="line"><span class="comment">-- 2.创建触发器 </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> t1 </span><br><span class="line"><span class="comment">-- 3.指定触发的时机,和要监听的表 </span></span><br><span class="line">AFTER <span class="keyword">INSERT</span> <span class="keyword">ON</span> orders </span><br><span class="line"><span class="comment">-- 4.行触发器 固定写法 </span></span><br><span class="line"><span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> </span><br><span class="line"><span class="comment">-- 4.触发后具体要执行的事件 </span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="comment">-- 订单+1 库存-1 </span></span><br><span class="line">    UPDATE goods <span class="keyword">SET</span> num <span class="operator">=</span> num <span class="number">-1</span> <span class="keyword">WHERE</span> gid <span class="operator">=</span> <span class="number">1</span>; </span><br><span class="line"><span class="keyword">END</span>$</span><br></pre></td></tr></table></figure>

<h1 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h1><p>数据控制语言</p>
<h2 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h2><p>MySql默认使用的都是 root 用户，超级管理员，拥有全部的权限。除了root用户以外，我们还可以通过DCL语言来定义一些权限较小的用户, 分配不同的权限来管理和维护数据库。</p>
<p><strong>创建用户</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;密码&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>主机名：指定该用户在哪个主机上可以登陆，本地用户可用 localhost，如果想让该用户可以 从任意远程主机登陆，可以使用通配符 %</p>
<p><strong>用户授权</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> 权限 <span class="number">1</span>, 权限 <span class="number">2</span> <span class="keyword">ON</span> 数据库名.表名 <span class="keyword">TO</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>权限：授予用户的权限，如 CREATE、ALTER、SELECT、INSERT、UPDATE 等。如果要授 予所有的权限则使用 ALL</p>
<p><code>*.*</code>表示所有库所有表</p>
<p><strong>查看权限</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p><strong>删除用户</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p><strong>查询用户</strong></p>
<p>其实就是查询mysql的数据库中的user表</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use mysql;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">USER</span>;</span><br></pre></td></tr></table></figure>

<h2 id="备份与还原"><a href="#备份与还原" class="headerlink" title="备份与还原"></a>备份与还原</h2><p><strong>SQLYog 数据备份与还原</strong></p>
<p>备份：选中要备份的数据库,右键 ”备份/导出“ —-&gt; “备份数据库,转储到SQL…”<br> —-&gt;  选择好路径后，点击“导出”</p>
<p>还原：右键，选择”执行SQL脚本…“ —-&gt; 选择好路径后，点击“执行”</p>
<p><strong>命令行备份</strong></p>
<p>打开DOS命令行</p>
<p>备份语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump <span class="operator">-</span>u 用户名 <span class="operator">-</span>p 密码 数据库 <span class="operator">&gt;</span> 文件路径</span><br></pre></td></tr></table></figure>

<p>还原，需要先创建一个库，选择该库，在库中还原</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use 库名</span><br><span class="line">source 文件路径</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">
          <div class="reward-container">
  <div>感谢老铁的支持！</div>
  <button>
    赞赏
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpg" alt="唧唧歪歪 微信">
        <span>微信</span>
      </div>
      <div>
        <img src="/images/alipay.jpg" alt="唧唧歪歪 支付宝">
        <span>支付宝</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/MySQL/" rel="tag"><i class="fa fa-tag"></i> MySQL</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/12/11/JavaSE/" rel="prev" title="JavaSE">
                  <i class="fa fa-chevron-left"></i> JavaSE
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2022/03/27/JDBC%E5%92%8CXML/" rel="next" title="JDBC和XML">
                  JDBC和XML <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC81MzYzOC8zMDExMQ=="></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">唧唧歪歪</span>
</div>
<div class="busuanzi-count">
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div> -->

    </div>
  </footer>

  
  <script size="300" alpha="0.6" zIndex="-1" src="https://cdn.jsdelivr.net/npm/ribbon.js@1.0.2/dist/ribbon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  



  <script class="next-config" data-name="nprogress" type="application/json">{"enable":true,"spinner":true}</script>
  <script src="/js/third-party/nprogress.js"></script>

  
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




<script src="/js/third-party/comments/livere.js"></script>

</body>
</html>
